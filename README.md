# Coursera [操作系统原理](https://www.coursera.org/learn/os-pku)（Operating Systems）

Peking University

教材：[《现代操作系统》](https://www.amazon.cn/dp/B002GKAMFA/)

参考笔记：

(清华大学操作系统课程：https://github.com/chyyuu/os_course_info)

- [（一）](https://blog.csdn.net/github_36487770/article/details/54924928)绪论
- [（二）](https://blog.csdn.net/github_36487770/article/details/54925696)操作系统的启动、中断、异常、系统调用
- [（三）（四）](https://blog.csdn.net/github_36487770/article/details/54933265)内存层次、地址空间、连续/非连续内存分配
- [（五）](https://blog.csdn.net/github_36487770/article/details/54934919)覆盖和交换，虚拟内存
- [（六）](https://blog.csdn.net/github_36487770/article/details/59127556)页面置换算法 FIFO法 LRU最近最久未使用法 CLOCK法 二次机会法
- [（七）](https://blog.csdn.net/github_36487770/article/details/60144610)进程与线程 PCB TCB 进程挂起 用户线程 内核线程 轻量级进程 僵尸队列
- [（八）](https://blog.csdn.net/github_36487770/article/details/72864479)CPU调度 短剩余时间 吞吐量 轮循 实时调度 多处理器调度 （清华 向勇 陈渝版）
- [（九）](https://blog.csdn.net/github_36487770/article/details/78861584)同步协同多道程序设计和并发问题，同步互斥，死锁，临界区
- [（十）](https://blog.csdn.net/github_36487770/article/details/78892825) 信号量、管程、条件互斥、经典同步问题（读者写者、哲学家问题）
- [（十一）](https://blog.csdn.net/github_36487770/article/details/78899664)死锁、银行家算法和进程间通信(直接通信、间接通信)

week 1 ~ week 6习题参考：https://github.com/liguanzhu92/OperatingSystem

其他习题与笔记参考：

- 第3周 [进程线程模型](https://www.cnblogs.com/jay54520/p/6528191.html)
- 第4周 [处理器调度](https://www.cnblogs.com/jay54520/p/6556358.html)
- 第5周 [同步机制 1](https://www.cnblogs.com/jay54520/p/6562421.html)
- 第6周 [同步机制 2](https://www.cnblogs.com/jay54520/p/6579896.html)
- 第7周 [存储模型 1](https://www.cnblogs.com/jay54520/p/6596400.html)
- 第8周 [存储模型 2](https://www.cnblogs.com/jay54520/p/6607662.html)
- 第9周 [文件系统 1](https://www.cnblogs.com/jay54520/p/6665448.html)
- 第10周 [文件系统 2](https://www.cnblogs.com/jay54520/p/6667300.html)
- 第11周 [IO系统](https://www.cnblogs.com/jay54520/p/6752847.html)
- 第13周 [期末考试](https://www.cnblogs.com/jay54520/p/6796483.html)

## week 7

第 1 个问题

为了保证CPU执行程序指令时能正确访问存储单元，需要将用户进程中的逻辑地址转换为运行时可由CPU直接寻址的物理地址，这一过程称为：

- **地址映射**
- 地址计算
- 地址查询
- 地址分配

第 2 个问题

若采用动态地址重定位，其地址重定位工作是在什么时刻完成的？

- 往内存装载进程时刻
- 在内存中移动进程时刻
- **执行每一条指令时刻**
- 调度程序选中进程时刻

第 3 个问题

系统在查找空闲区时可采用多种分配算法，其中，“最差适配算法”是

- 在空闲区表中选择能满足进程申请长度最小空闲区
- 在空闲区表中随机选择一个能满足进程申请长度的空闲区
- 在空闲区表中选择第一个能满足进程申请长度的空闲区
- **在空闲区表中选择能满足进程申请长度的最大空闲区**

（？）第 4 个问题

在可变分区管理方式下，在回收内存时，若已判断出“空闲区表中某一表项的起始地址恰好等于被回收分区的起始地址与长度之和”，则表示

- 被回收分区无相邻空闲区
- a被回收分区有下邻空闲区
- 被回收分区既有上邻空闲区，又有下邻空闲区
- b被回收分区有上邻空闲区

第 5 个问题

在采用页式存储管理方案的系统中，逻辑地址用32位表示，内存页面大小为212，则用户程序最多可划分为多少页？

- **2^20**
- 2^10
- 2^12
- 2^32

第 6 个问题

进程切换时，系统将即将运行进程的页表起始地址存放在

- 内存中
- 磁盘中
- 快表中
- **寄存器中**

第 7 个问题

下列哪一种存储管理方案是将进程离散地存放在内存中不连续的区域中的？

- 单一连续区
- 可变分区
- 固定分区
- **页式存储管理**

第 8 个问题

存储管理中，将进程不需要或暂时不需要的部分移到磁盘，腾出内存空间以调入其他进程，这一技术称为

- 覆盖技术
- **交换技术**
- 缓冲技术
- 紧缩技术

第 9 个问题

[多选题]下列关于地址重定位的叙述中，哪些是正确的?

- **地址重定位又称为地址转换或地址映射**
- 静态地址重定位的完成过程必须有硬件支持
- **动态地址重定位是在进程执行过程中完成的**
- **用户进程中使用的是逻辑地址，且从0开始编址**
- **内存的地址是按照物理地址编址的**

第 10 个问题

[多选题]下列关于紧缩技术的叙述中，哪些是正确的？

- **紧缩技术不能解决内碎片问题**
- 内存中任意一个进程都可以随时移动
- **紧缩技术可用于可变分区存储管理方案**
- **完成紧缩会增加处理器的开销**
- **紧缩技术可以合并分散的小空闲区，以形成大的空闲区**

第 11 个问题

[判断题]在采用页式存储管理方案的系统中，若进程处于就绪状态，则页表的起始地址保存在进程控制块PCB中。

- **对**
- 错

第 12 个问题

[判断题]采用页式存储管理方案不会产生碎片问题。

- 对
- **错**

第 13 个问题

内存管理单元（MMU）是硬件机制，完成从逻辑地址到物理地址的转换工作。

- **对**
- 错

## week 8

第 1 个问题

提出存储层次体系的主要依据是

- 虚拟存储技术
- 多道程序设计技术
- **程序访问的局部性原理**
- 存储保护技术

第 2 个问题

虚拟页式存储系统中页表的作用十分重要，页表由页表项组成，在页表项中标记出页面尚未读入内存的是

- 访问位
- 保护位
- **有效位**
- 禁止缓存位

第 3 个问题

在虚拟页式存储系统的各种页面置换算法中，LRU算法是指

- 先置换最早进入内存的页面
- **先置换近期最长时间没有被访问的页面**
- 先置换以后不会使用的页面
- 先置换近期内被访问次数最少的页面

第 4 个问题

在虚拟页式存储系统中，若页面尺寸为4K，页表项大小为4字节，则采用三级页表结构可以表示多大的虚拟地址空间？

- 2^48
- 2^20
- 2^39
- **2^42**

第 5 个问题

在虚拟页式存储系统中，对缺页异常没有影响的因素是

- 分配给进程的页框数目
- 页面置换算法
- **页表在内存中的位置**
- 程序本身的编制方法

第 6 个问题

根据下列哪一因素引入了工作集模型？

- 系统效率下降
- 分配给进程的页框数目太少
- 页面置换算法选择不合理
- **程序的局部性原理**

第 7 个问题

下列关于工作集模型的叙述中，哪一个是错误的？

- 工作集的大小是可以调整的
- **工作集大小与缺页率无关**
- 工作集模型可以解决系统的颠簸（抖动）问题
- 每个进程有一个工作集

第 8 个问题

有一个虚拟页式存储系统，分配给某个进程3个页框（假设开始时，页框均为空），页面访问序列是：4，3，2，1，4，3，5，4，3，2，1，5。若采用最佳页面置换算法OPT，缺页次数为

- 10
- **7**
- 9
- 8

第 9 个问题

有一个进程要把128×256的数组置初值“0”，数组中的每个元素为一个整数。页面大小为每页256个整数，数组按行存放。系统分配给该进程一个页框，初始时为空。程序编制如下：

    var A：array [1..128，1..256] of integer;

        for j:= 1 to 256 do

            for i:= 1 to 128 do

                    A[i, j]:= 0;

若页面置换算法采用先进先出算法(FIFO)，则该进程执行时会产生多少次缺页异常？

- 64 × 128
- **128 × 256**
- 64 × 256
- 256 × 256

第 10 个问题

下列关于存储管理的各种技术中，哪一项不需要硬件支持？

- 地址转换
- 快表(TLB)
- 存储保护
- **交换技术**

第 11 个问题

下列哪一项不属于页错误(Page Fault)发生的原因？

- 所访问的页面在磁盘上
- 虚拟地址落在地址空间中没有内容的区域
- 用户进程访问的地址对应的页表项的U/S位是S标志
- **用户进程对一个页面执行了读操作**

第 12 个问题

在虚拟页式存储系统中，引入快表后，MMU将虚拟地址划分为虚页号和页内偏移，之后的主要工作包括：

①根据虚页号查找页表，得到对应的页表项

②根据虚页号查找快表TLB，得到对应的页框号

③根据页表项中的页框号与页内偏移形成物理地址

④MMU产生Page Fault，陷入操作系统，执行缺页异常处理程序

下列选项中，哪一项不是MMU的正确工作顺序？

- ②①③
- ②③
- ②①④③
- **②④①③**

（？）第 13 个问题

下列哪些因素影响了虚存的容量？

- ba磁盘空间大小
- b数据存放的实际地址
- cba计算机系统的寻址机制
- 快表的大小
- ba物理内存大小

第 14 个问题

下列关于快表的叙述中，哪些是正确的？

- **引入快表可以加快地址转换速度**
- **对快表的查找是按内容并行完成的**
- **快表的内容是页表的子集**
- 快表保存在内存固定位置
- **操作系统实现进程切换的时候会刷新TLB**

第 15 个问题

虚存是构建在计算机系统中的存储体系之上的，是操作系统分配给进程运行的地址空间。

- **对**
- 错

第 16 个问题

在虚拟页式存储系统中，选择页面置换算法时应尽量注意减少或避免颠簸或抖动现象的发生。

- 错
- **对**

第 17 个问题

当内存空闲页框数量不足时，操作系统实施清除策略。所谓清除策略是把正在运行进程所用的一些页框收回作为空闲页框。

- 错
- **对**

第 18 个问题

Linux中为加快进程创建采用了写时复制技术，该技术的实现支持是在存储管理模块完成的。

- 错
- **对**

## week 9

第 1 个问题

UNIX系统中，把输入输出设备看做是

- **特殊文件**
- 索引文件
- 普通文件
- 目录文件

第 2 个问题

文件的逻辑结构是由下列哪一项决定的？

- 操作系统
- **用户**
- 磁盘容量
- 文件属性

第 3 个问题

文件系统实现文件的按名存取是通过下列哪一项工作完成的？

- 文件寻址
- 目录项分解
- **文件目录查找**
- 位示图查找

第 4 个问题

下列哪一项不是文件控制块中的内容？

- 文件在磁盘上的地址
- 口令
- 文件建立日期
- **文件在内存中的地址**

第 5 个问题

下列关于文件目录及实现的叙述中，哪一个是不正确的？

- 文件目录是文件控制块的有序集合
- **树形目录结构存储在磁盘上对应了一个目录文件**
- 目录项分解法可以加快文件的目录检索速度
- 从当前目录开始查找文件可以提高文件的检索速度

第 6 个问题

某文件系统空间的最大容量为4TB(1T=240)，以磁盘块为基本分配单位，磁盘块大小为1KB。文件控制块(FCB)包含一个512B的索引表。如果索引表只采用直接索引结构，存放文件占用的磁盘块号。在该文件系统中，单个文件最大长度为多少块?

- **128**
- 64
- 512
- 256

第 7 个问题

下列哪一项不需要记录在用户打开文件表中？

- 系统打开文件表入口指针
- 文件描述符
- 读写指针
- **共享计数**

第 8 个问题

某文件系统把UNIX的三级索引结构改进为四级索引结构，假设物理块的大小为1KB，用4字节索引一个物理块号。主索引表含有10个4字节的物理地址块指针，其中前6个为直接索引，第7个为一级索引，第8个为二级索引，第9个为三级索引，第10个为四级索引。那么，该文件系统中一个文件最多可以有多少个文件块？

- **6+2^8+2^16+2^24+2^32**
- 6+2^7+2^14+2^21+2^28
- 6+2^9+2^18+2^27+2^36
- 6+2^10+2^20+2^30+2^40

第 9 个问题

在实现文件系统时，可采用“目录项分解法”加快文件目录的检索速度。假设当前文件存放在磁盘上，物理块大小为1024字节，文件控制块(FCB)大小为128字节，其中文件名占用16字节。目录项分解后，符号部分占20字节（包括文件名和内部索引号），基本信息部分占112字节（包括文件索引号和其他信息）。假设某一目录文件共有254个文件控制块，则采用“目录项分解法”前，查找该目录文件的某一个文件控制块的平均访盘次数是

- 17.5
- 14.5
- 15.5
- **16.5**

第 10 个问题

针对文件\dir1\file1，在UNIX系统中进行目录检索的过程包括以下几个步骤：

① 在i节点区查找file1的i节点

② 在i节点区查找dir1的i节点

③ 在根目录文件中查找dir1的目录项

④ 在dir1目录文件中查找file1的目录项

下列哪一个步骤顺序是正确的？

- D）③④①②
- A）②①③④
- **C）③②④①**
- B）③①②④

第 11 个问题

下列关于文件索引结构的叙述中，哪些是正确的？

- **从文件控制块中可以找到索引表或索引表的地址**
- **系统为每个文件建立一张索引表**
- **索引结构的优点是访问速度快，文件长度可以动态改**
- 采用索引结构，逻辑上连续的文件存放在连续的物理块中
- **采用索引结构会引入存储开销**

第 12 个问题

下列关于文件卷的叙述中，哪些是正确的？

- FAT文件系统的文件卷信息仅保存在文件分配表中
- **格式化是在一个逻辑分区上建立管理数据的过程**
- **文件卷可以建立在磁盘分区上**
- **UNIX的文件卷信息存放在超级数据块、空闲空间管理区**
- **同一文件卷使用同一份管理数据(元数据)**

第 13 个问题

成组链接法是文件系统中可以采用的文件的物理结构。

- **错**
- 对

第 14 个问题

在文件系统中，文件的逻辑块与存储介质上物理块存放顺序一致的物理结构是索引结构。

- **错**
- 对

第 15 个问题

引入了当前目录的概念可以加快目录检索的速度

- 错
- **对**

第 16 个问题

Windows的FAT文件系统中，文件的物理结构采用的是链接结构。

- **对**
- 错

## week 10

第 1 个问题

下列关于FAT文件系统的叙述中，哪一个是不正确的？

- **FAT16文件系统支持Unicode编码**
- 文件分配表FAT的作用之一是空闲簇的管理
- FAT文件系统中，目录项即是文件控制块
- FAT32中每一个文件对应两个或两个以上的目录项

第 2 个问题

系统为了管理文件，设置了专门的数据结构文件控制块（FCB）。FCB是在执行哪一个系统调用时建立的？

- **create**
- open
- copy
- seek

第 3 个问题

使用文件前要先打开文件。在执行完“打开”文件系统调用后，系统会返回给进程一个

- 文件打开方式
- **文件描述符**
- 内存地址
- 文件长度

第 4 个问题

下列哪一项不是打开文件时所做的工作？

- 检查操作的合法性
- 填写用户打开文件表中的读写指针
- **填写文件控制块中的文件读写方式**
- 检查文件名所对应的文件控制块是否已调入内存

第 5 个问题

下列关于磁盘结构及磁盘调度的叙述中，哪一条是不正确的？

- **若读的扇区在磁盘最里道，则磁盘调度的时间最长**
- 磁盘调度时，首先是移臂调度，然后是旋转调度
- 磁盘的物理块号与磁盘地址可以相互转换
- 最短寻道时间优先（SSTF）调度算法可能导致饥饿现象

第 6 个问题

假设磁头在65号柱面上操作时，有其他访问请求到达，其柱面(磁道)号为85、46、114、16和116。当系统完成65号柱面(磁道)的操作后，若采用最短寻找时间优先(SSTF)磁盘调度算法，为完成这些请求，磁头需要移动的柱面(磁道)数是

- 159
- **149**
- 181
- 139

第 7 个问题

下列哪一种磁盘驱动调度算法可能引起磁头臂频繁大幅度移动

- 旋转调度算法
- **先来先服务算法**
- 最短寻道时间优先算法
- 扫描算法

第 8 个问题

有4个访问第66柱面的访盘请求，其访问要求如下：

请求号	柱面号	磁头号	扇区号

①	66	1	4

②	66	4	2

③	66	4	4

④	66	2	7

下列哪一种执行顺序可以获得最小的平均服务时间？

- **②、①、④、③**
- ①、②、③、④
- ①、②、④、③
- ②、①、③、④

第 9 个问题

RAID技术是通过下列哪一种方法来提高文件系统性能的？

- 海明码校验
- **数据分条**
- 镜像
- 奇偶校验

（？）第 10 个问题【多选题】

设计文件系统时应尽量减少访问磁盘的次数，以提高文件系统的性能。下列各种措施中，哪些可以减少磁盘服务时间？

- ba内存映射文件
- ba当前目录
- cba块高速缓存
- cba磁盘碎片整理
- cb磁盘的旋转调度

第 11 个问题【多选题】

在UNIX文件系统中，若文件F的权限是765，则表示：

- **文件的同组用户可以读写该文件**
- **文件的属主可以读写该文件**
- **文件的其他用户可以运行该文件**
- **文件的属主可以运行该文件**
- 文件的其他用户可以读写该文件

第 12 个问题

判断题：文件系统的一致性就是指文件卷在磁盘上的管理数据是正确的。

- **对**
- 错

第 13 个问题

判断题：假如在UNIX文件系统中，将i节点区分成几部分，均匀分布存放在磁盘上，建立文件时把该文件的i节点存放在离数据块最近的i节点区域。这一方案可以提高文件系统的性能。

- **对**
- 错

第 14 个问题

若采用块高速缓存机制，读文件数据块时先从块高速缓存中查找该块是否存在，若不存在，则启动磁盘将数据块直接读入进程地址空间。

- 对
- **错**

第 15 个问题

判断题：若采用块高速缓存机制，则进程在运行时打开文件并读入一些文件内容后，整个系统中有三处存储空间包含了这些文件信息。

- **对**
- 错

## week 11

第 1 个问题

下列I/O控制方式中，哪一个不需要硬件支持？

- I/O处理机方式
- DMA方式
- **轮询方式**
- 中断方式

第 2 个问题

下列关于虚设备技术的叙述中，哪一个是错误的？

- 虚设备技术是指在一类设备上模拟另一类设备的技术
- 引入虚设备技术是为了提高设备利用率
- **通常采用虚设备技术是用低速设备来模拟高速设备**
- SPOOLing技术是一类典型的虚设备技术

第 3 个问题

下列关于SPOOLing技术的叙述中，哪一个是错误的？

- SPOOLing技术解决了独占设备利用率低的问题
- **SPOOLing没有解决CPU的速度与设备速度的差异性**
- SPOOLing技术可用于打印机的管理
- SPOOLing技术需要利用磁盘空间作为缓冲

第 4 个问题

在设备管理中，缓冲技术主要用于

- 提供内存与外存之间的接口
- 提高设备利用率
- **提高主机和设备交换信息的速度**
- 扩充地址空间

第 5 个问题

下列关于I/O端口地址的叙述中，哪一个是错误的？

- 内存映像编址方式下I/O端口地址空间可以比较大
- I/O端口地址是指设备接口寄存器的地址
- I/O独立编址方式需要特定的I/O指令
- **内存映像编址方式下允许缓存设备接口寄存器的内容**

第 6 个问题

**下列关于操作系统设备管理的叙述中，哪些是正确的？

- **SPOOLing技术是一类典型的虚拟设备技术**
- **设备管理利用各种技术提高CPU与设备、设备与设备之间的并行工作能力**
- 操作系统应尽量对设备提供各种不同的接口
- **操作系统对用户屏蔽了实现具体设备I/O操作的细节**
- **设备管理使用户能独立于具体设备的复杂物理特性而方便地- 使用设备**

第 7 个问题

下列哪些方案可以提高I/O性能？

- **异步I/O方式**
- **缓冲技术**
- 静态设备分配策略
- **DMA方式**
- 轮询方式

第 8 个问题

I/O设备的传输速率差异性、接口的复杂性等给操作系统设备管理带来复杂性。

- **对**
- 错

第 9 个问题

利用设备内部的缓冲区可以进行数据格式加工等处理。

- **对**
- 错

第 10 个问题

内存映像I/O模式下设备驱动程序可以用C语言编写。

- **对**
- 错

第 11 个问题

通过把独占设备改造成________________，可以提高独占设备利用率

共享设备

第 12 个问题

通常按层次组织I/O软件，典型的四层I/O软件包括用户进程I/O、________________、设备驱动程序和中断处理程序。

设备无关软件

## week 12

第 1 个问题

在计算机系统拥有的各种软硬件资源中，内存是属于

- 独占资源
- **可重用资源**
- 不可重用资源
- 临界资源

第 2 个问题

下列描述的各种现象中，属于活锁现象的是

- **相关进程没有被阻塞，可被调度，但是执行没有进展**
- 相关进程进入阻塞状态，且可以唤醒
- 相关进程进入阻塞状态，且无法唤醒
- 相关进程没有阻塞，但是调度时刻被延迟推后

第 3 个问题

在系统运行过程中，通过检查系统是否处于安全状态而不让死锁发生的策略是

- 死锁解除
- **死锁避免**
- 死锁预防
- 死锁检测

第 4 个问题

对资源采用按序分配策略能达到下列哪一个目的？

- 死锁避免
- 死锁解除
- **死锁预防**
- 死锁检测

第 5 个问题

在下列解决死锁的方法中，属于死锁避免策略的是

- 死锁检测算法
- 资源分配图化简法
- **银行家算法**
- 资源有序分配法

第 6 个问题

某计算机系统中有3个进程P1、P2和P3，3类资源r1、r2和r3。其中r1和r3每类资源只有1个，r2资源有2个，如图1所示。

假设系统当前的资源分配如下：

![图片1](https://d28rh4a8wq0iu5.cloudfront.net/os/images/%E5%9B%BE1.png)

E={(P1，r1)，(P2，r3)，(r2，P1)，(r1，P2)，(r2，P2)，(r3，P3)}

如果进程P3申请一个r2类资源，那么系统进入下列哪一种状态？

- 无死锁
- 饥饿
- 活锁
- **死锁**

第 7 个问题

图2所示的十字路口死锁的情况可以采用多种方法进行预防。

![图片2](https://d28rh4a8wq0iu5.cloudfront.net/os/images/%E5%9B%BE2.png)
图2 十字路口

那么，使用交通红绿灯的方法破坏的是产生死锁的哪一个条件？

- 不可抢占条件
- 资源独占条件
- **请求和保持条件**
- 循环等待条件

第 8 个问题

假设系统中有4个进程P1、P2、P3和P4，在某一时刻系统状态如下，其中，系统中剩余资源数量为1。

![图片3](https://d28rh4a8wq0iu5.cloudfront.net/os/images/%E5%9B%BE3.png)

该系统状态是安全状态，如果此时进程P3申请1个资源，分配后系统的状态是

- **死锁状态**
- 不安全状态
- 安全状态
- 临界状态

第 9 个问题

系统有某类资源5个，供3个进程共享，每个进程最多申请多少个该类资源时系统仍然是安全的？

- 3
- 5
- **2**
- 1

第 10 个问题

形成死锁的必要条件是

- **进程对资源的申请形成环路**
- **部分分配资源**
- 系统资源不足
- **资源的互斥使用**
- **不可剥夺已分配资源**

第 11 个问题

假设系统中有3种类型的资源（A，B，C）和5个进程P1、P2、P3、P4、P5。A资源的数量为17，B资源的数量为5，C资源的数量为20。在某一时刻系统状态如下表所示。那么，下列哪些进程执行序列是安全序列？

![图片4](https://d28rh4a8wq0iu5.cloudfront.net/os/images/%E5%9B%BE4.png)

- P1→P2→P3→P4→P5
- P2→P3→P4→P5→P1
- **P4→P3→P2→P5→P1**
- **P5→P4→P3→P2→P1**
- P4→P3→P2→P1→P5

第 12 个问题

有两个线程P和Q，系统中有总量为M的资源。P和Q都需要使用这一资源来完成任务。其中，P的最大资源需求量为A，Q的最大资源需求量为B。直方图中，P轴和Q轴分别代表为P和Q分配的资源量。带圈的字符1、2、3、4所属的区域，代表着死锁检测中的状态。

![图片5](https://d28rh4a8wq0iu5.cloudfront.net/os/images/%E5%9B%BE5.png)

在图中，O1、O2点分别属于区域③、②。

- **对**
- 错

第 13 个问题

在图中，O3点属于区域④。

- 对
- **错**

第 14 个问题

在图中，边O1O2（不含两个端点）表示死锁状态。

- 错
- **对**

第 15 个问题

解决经典的哲学家进餐问题时，若规定每个哲学家先取左边筷子、再取右边筷子，则可以避免死锁发生。

- 对
- **错**

## week 13

第 1 个问题

下列关于操作系统的叙述中，哪些是正确的？［多选］

- **分时操作系统是典型的交互式系统**
- 操作系统实现时要求用户考虑硬件操作细节
- **在汽车电子系统中使用的操作系统属于嵌入式操作系统**
- **操作系统管理着计算机系统中的各种资源**
- **用户可以通过系统调用向操作系统提出服务请求**

第 2 个问题

下列关于各种不同类型操作系统的叙述中，哪一个是错误的？

- **设计实时系统时首先要考虑的是如何提高系统的资源利用率**
- 分布式操作系统支持系统中若干台计算机相互协作完成同一任务
- 嵌入式操作系统和实时操作系统都追求高可靠性
- 批处理系统可以采用SPOOLing技术实现

第 3 个问题

下列关于中断和异常的叙述中，哪一个是错误的？

- x86系列处理器提供的4个处理器特权级别中R0的特权级别最高
- 启动I/O指令只能在内核态下运行
- 中断向量（中断描述符）保存了程序状态字和中断入口程序地址
- **Page Fault属于I/O中断**

第 4 个问题

下列关于系统调用的叙述中，哪一个是错误的？

- 系统调用的功能是由内核函数实现的
- **执行系统调用时，不能利用通用寄存器完成参数传递**
- 打开磁盘上的一个文件属于系统调用
- 系统调用时调用程序位于用户态，被调用程序位于内核态

（？）第 5 个问题

下列各种事件中，会导致进程从运行态变为等待态的事件是［多选］

- b启动I/O设备
- 申请内存失败
- b进程执行P操作
- ba被高优先级进程抢占
- ba运行进程的时间片用完
- x全选

第 6 个问题

在UNIX操作系统中运行如下C语言程序：

![p1](https://d28rh4a8wq0iu5.cloudfront.net/os/images/codeqimo.png)

假设编译链接过程正确且程序正确执行，那么运行结果是

- **father a=1，child a=2，child's child a=2**
- father a=2，child a=3，child's child a=4
- father a=2，child a=3，child's child a=2
- father a=2，child a=2，child's child a=2

第 7 个问题

下列关于进程调度算法的叙述中，哪一个是错误的？

- 多级反馈队列(Feedback)调度算法会使CPU型进程产生“饥饿”现象
- 抢占式最高优先级调度算法会导致优先级反转问题
- **最高相应比优先(HRRN)调度算法实现开销小**
- 先来先服务(FCFS)调度算法对长进程后的短进程不利

第 8 个问题

某计算机系统中有5个进程，它们的就绪时间和需要运行时间如下表所示。

![p1](https://d28rh4a8wq0iu5.cloudfront.net/os/images/codeqimo2.png)

若采用时间片轮转算法（时间片长度为1），则P5第一次上CPU的时间为

- **10**
- 8
- 7
- 9

第 9 个问题

下列关于进程互斥解决方案的叙述中，哪一个是错误的？

- 自旋锁采用了“忙等待”方式，它适用于多处理器
- **Peterson算法采用了原子操作以保证进程互斥进入临界区**
- 用“测试并加锁”（TSL）指令解决进程互斥进入临界区的解决方案适用于多处理器
- 采用Peterson算法会出现“忙等待”现象

第 10 个问题

下列关于管程的叙述中，哪一个是错误的？

- 管程的互斥性是由编译器保证的
- 管程提供了条件变量及wait、signal操作以解决进程同步问题
- 应用MESA管程时，对条件的检测至少需要2次
- **若管程中同时出现2个进程，HOARE管程的解决办法是让先进入管程的进程等待**

第 11 个问题

下列关于存储管理的叙述中，哪些是正确的？［多选］

- **进程页表的起始地址保存在该进程的进程控制块（PCB）中**
- 对快表TLB的查找是按内容依次顺序比较完成的
- **内存管理单元（MMU）是硬件机制，完成从逻辑地址到物理地址的转换工作**
- 紧缩技术可以解决内碎片问题
- **动态地址重定位是在进程执行过程中完成的**

第 12 个问题

系统为某进程分配了4个页框，该进程已经完成了下列页号序列的访问：

3，1，3，10，4，5，3，8，3，4，9，5，6

假设该进程要访问的下一个页号是8，根据最近最少（LRU）页面置换算法，应该被淘汰的页的页号是

- 5
- **4**
- 9
- 3

第 13 个问题

下列关于文件系统的叙述中，哪一个是错误的？

- 系统完成打开文件操作后，该文件的文件控制块或i节点会被读入内存
- 块高速缓存机制可以提高文件系统的性能
- Windows的FAT文件系统中，文件下一簇的簇号存放在FAT表中
- **RAID技术中的镜像方式可以提高文件系统性能的**

第 14 个问题

假设在UNIX系统中某用户提出创建一个普通文件的请求，下列操作中，哪一个是操作系统不可能执行的操作？

- 创建与该文件对应的目录项
- 分配存放该文件内容的磁盘块
- **创建该文件所在的目录文件**
- 创建与该文件对应的i节点

第 15 个问题

下列关于虚设备技术的叙述中，哪一个是错误的？

- 引入虚设备技术是为了提高设备利用率
- 虚设备技术是指在一类设备上模拟另一类设备的技术
- **通常采用虚设备技术是用低速设备来模拟高速设备**
- SPOOLing技术是一类典型的虚设备技术

第 16 个问题

下列关于设备管理的叙述中，哪些是正确的？［多选］

- **缓冲技术可以提高I/O性能**
- **SPOOLing技术是一种用磁盘空间换取时间的技术**
- **操作系统对用户屏蔽了实现具体设备I/O操作的细节**
- 设备驱动程序属于设备无关软件层
- I/O独立编址模式下设备驱动程序可以用C语言编写

第 17 个问题

下列关于银行家算法的叙述中，哪一个是正确的？

- 银行家算法破坏了死锁必要条件中的“请求和保持”条件
- 银行家算法是用于解除死锁的
- 当系统处于不安全状态时，系统中一定会出现死锁进程
- **当系统处于安全状态时，系统中一定没有死锁进程**

第 18 个问题

在解决死锁问题上，假设系统S1采用的是死锁避免方法，S2采用的是死锁检测与解除方法。下列叙述中，哪些是正确的？［多选］

- **针对哲学家就餐问题，S2允许每个哲学家同时拿起他右边的筷子，而S1不会**
- **针对哲学家就餐问题，当桌子上只剩下最后一只筷子时，S1要求分配这只筷子必须使得至少有一个哲学家手里已有一支筷子，而S2不会**
- **S1需要进程给出对资源总量的需求数量，而S2不需要**
- S1会限制进程申请资源的顺序
- **若分配资源后系统进入不安全状态，S1不会进行分配资源，而S2会**

第 19 个问题

有一台32位的计算机，每个页面的大小是4KB，如果一个进程在它的虚拟内存中实际使用了1024个页面。（可以认为每个页表项占据4个字节）

假设使用一级页表，那么该进程的页表大小是多少？

- 4KB
- **4MB**
- 32MB
- 32KB

第 20 个问题

题干同19题。如果采用二级页表，且一级页表的大小和二级页表的大小相同（假设一级页表大小是1KB，则一个二级页表的大小也是1KB；假设一级页表大小是2KB，则一个二级页表的大小也是2KB），那么该进程的两级页表加起来，至少占据____KB？

8

第 21 个问题

题干同19题。如果采用二级页表，且一级页表的大小是二级页表大小的四倍（假设一级页表大小是4KB，则一个二级页表的大小是1KB；假设一级页表大小是8KB，则一个二级页表的大小是2KB），那么该进程的两级页表加起来，至少占据____KB？

12

（？）第 22 个问题

如果需要置换其中一个页面，若采用最近未使用（NRU）页面置换算法，将会置换哪一个页面？

- x0
- 2
- 3
- 1

如果需要置换其中一个页面，若采用最近最少（LRU）页面置换算法，将会置换哪一个页面？

- 0
- x2
- 3(?)
- x1

第 23 个问题

某UNIX文件系统中，磁盘被格式化为C、D、E三个分区。D盘R目录下有50个普通文件或子目录，总大小为6G；D盘S目录下只有一个6G大小的普通文件。

若某用户执行了如下操作：

① 拷贝R目录到D盘（复制）；

② 拷贝S目录到E盘；

下列结论中，哪一个是正确的？

- ①操作花费的时间比②长，差异不明显
- ②操作花费的时间比①长，差异不明显
- **①操作花费的时间比②长，且有明显差异**
- ②操作花费的时间比①长，且有明显差异

第 24 个问题

假设某文件系统的文件控制块(FCB)中包含了一个512字节的索引表，该索引表由两部分组成：前504字节用于直接索引结构，一个索引项占6字节；最后8个字节采用<起始块号，总块数>的格式，表示分配给一个文件的连续磁盘空间，其中起始块号占6字节，块数占2字节。

采用这种结构可支持的单个文件的最大长度有多少块？____________［填空］［计算出整数］

65620

第 25 个问题

有一个Unix文件系统，磁盘块大小为1KB，用4字节表示磁盘地址，i节点包含了12个直接盘块表项，1个一次间接盘块表项和1个二次间接盘块表项。那么该文件系统支持的单个文件的最大大小是多少？

- 32MB + 68KB
- 16MB + 40KB
- 128MB + 536KB
- **64MB + 268KB**

第 26 个问题

继续上一题的问题，假设已经建立了一个拥有最大大小的文件，它的i节点还没有在内存中，当需要访问整个文件的时候，至少需要多少次磁盘读取操作。（假设整个块可以被一次读取，且读取已经读取到内存中的内容不再需要新的磁盘访问。）

- 14+2*2^8+2^16
- 13+4*2^8+2*2^16
- 16+4*2^8+2*2^16
- **15+2*2^8+2^16**

第 27 个问题

题干同26题，假设磁盘块大小是4KB，且在i节点中再增加1个三次间接盘块表项，那么该文件系统支持的单个文件的最大大小是多少？

- 24KB+1MB+1GB+1TB
- 64KB+4MB+4GB+4TB
- **48KB+4MB+4GB+4TB**
- 16KB+1MB+1GB+1TB

第 28 个问题

假如开始时四个人用银行家算法来分配和释放资源，还会进入到这一状态吗？____________ （是或否）

是

第 28 个问题

在以上这种情况下，系统是否进入了死锁状态？____________ （是或否）

否

第 29 个问题

有下列两组术语：

第一组：①Peterson算法；②最短作业优先调度算法；③资源有序分配算法。

第二组：Ⅰ死锁；Ⅱ饥饿；Ⅲ活锁。

下列术语关联性配对中，哪些是正确的？

- **①Ⅲ**
- **②Ⅱ**
- ③Ⅱ
- ②Ⅲ
- **③Ⅰ**
- ①Ⅰ

第 30 个问题

桌子上有一个水果盘，只能放下一个水果。一家四口人：爸爸、妈妈、哥哥、妹妹。爸爸专门往盘子里放苹果，妈妈专门往盘子里放桃子；哥哥专等盘子里的苹果吃，妹妹专等盘子里的桃子吃。部分代码如下：(带圈标号有些小，是按顺序的，从1~8，可以用浏览器放大观看。)

    dad() {
    while (1) {
    准备好一个苹果；
    ①；
    往果盘中放苹果；
    ②；
    }
    }
    mom() {
    while (1) {
    准备好一个桃子；
    ③；
    往果盘中放桃子；
    ④；
    }
    }
    brother() {
    while (1) {
    ⑤；
    从果盘中拿走苹果；
    ⑥；
    吃苹果；
    }
    }
    sister() {
    while (1) {
    ⑦；
    从果盘中拿走桃子；
    ⑧；
    吃桃子；
    }
    }

假如设计了如下信号量：

plate：互斥信号量，标识能否往果盘中放入水果。

apple：信号量，标识果盘中是否有苹果。

peach：信号量，标识果盘中是否有桃子。

请给出三个信号量的初值____________。（填写示例：如果你认为plate是1，apple是1，peach是1，则填写111，没有间隔）

100

第 31 个问题

同32题题干，请为相应的信号量选择合适的P、V操作。

代码中⑥对应的操作是

- P(plate)
- **V(plate)**
- P(apple)
- V(apple)
- P(peach)
- V(peach)

代码中①对应的操作是

- **P(plate)**
- V(plate)
- P(apple)
- V(apple)
- P(peach)
- V(peach)

代码中⑤对应的操作是

- P(plate)
- V(plate)
- **P(apple)**
- V(apple)
- P(peach)
- V(peach)


## 第十三周 正确答案【coursera和华文慕课均通过匿名邮箱反复测试过】 见：/os-13
